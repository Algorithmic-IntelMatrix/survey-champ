# Cloudflare Pages Configuration Reference - Builder App
# 
# NOTE: Cloudflare Pages doesn't use TOML files for configuration.
# This file serves as a REFERENCE for the settings you should configure
# in the Cloudflare Dashboard when creating the Pages project.
#
# Project Setup: https://dash.cloudflare.com > Workers & Pages > Create Application > Pages

# ============================================================================
# PROJECT INFORMATION
# ============================================================================
# Project Name: surveychamp-builder
# Description: Survey creation and management UI
# Production Branch: main (or master)

# ============================================================================
# BUILD CONFIGURATION
# ============================================================================
# Framework Preset: Next.js
# Build Command:
build_command = "bun install && bun run --filter @surveychamp/builder build"

# Build Output Directory (relative to root):
build_output_directory = "apps/builder/out"

# Root Directory:
root_directory = "/" # Monorepo root - IMPORTANT!

# ============================================================================
# BUILD WATCH PATHS
# ============================================================================
# Configure in: Project Settings > Builds & deployments > Build watch paths
# These paths determine which file changes trigger a build for THIS project
#
# Include paths (trigger build when these change):
# - apps/builder/**
# - packages/**
# - package.json
# - bun.lock
# - tsconfig.json
#
# This ensures:
# ✅ Changes to builder app trigger builder builds
# ✅ Changes to shared packages trigger builder builds
# ❌ Changes to runner app DON'T trigger builder builds
# ❌ Changes to other apps DON'T trigger builder builds

# ============================================================================
# ENVIRONMENT VARIABLES
# ============================================================================
# Configure in: Project Settings > Environment variables
#
# Production Environment:
# NEXT_PUBLIC_API_URL = "https://api.algorithmicintelmatrix.com/api"
# NEXT_PUBLIC_APP_URL = "https://builder.algorithmicintelmatrix.com"
# NEXT_PUBLIC_SURVEY_URL = "https://survey.algorithmicintelmatrix.com"
# NODE_VERSION = "20.18.2"

# Preview Environment (optional):
# NEXT_PUBLIC_API_URL = "https://api-staging.algorithmicintelmatrix.com/api"
# NEXT_PUBLIC_APP_URL = (auto-generated preview URL)
# NEXT_PUBLIC_SURVEY_URL = "https://survey-staging.algorithmicintelmatrix.com"
# NODE_VERSION = "20.18.2"

# ============================================================================
# CUSTOM DOMAIN
# ============================================================================
# Configure in: Project Settings > Custom domains
# Production Domain: builder.algorithmicintelmatrix.com
#
# Cloudflare will automatically:
# - Create DNS records
# - Provision SSL certificate
# - Enable HTTP/2 and HTTP/3

# ============================================================================
# ADVANCED BUILD SETTINGS
# ============================================================================
# Build system: v2 (required for monorepo support)
# Node.js version: 20.18.2
# Build timeout: 20 minutes (default)
# Build watch paths: Enabled (see above)

# ============================================================================
# DEPLOYMENT SETTINGS
# ============================================================================
# Branch deployments: Enabled
# Production branch: main
# Preview deployments: All branches
# Build caching: Enabled
# Automatic deployments: Enabled (on git push)

# ============================================================================
# GITHUB INTEGRATION
# ============================================================================
# When connected to GitHub:
# - Automatic deployments on push to production branch
# - Preview deployments for pull requests
# - Deployment status checks on PRs
# - Multiple projects will show separate status checks
